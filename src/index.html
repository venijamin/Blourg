<!-- login.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="text/css" rel="stylesheet" href="/src/bootstrap.css">

    <title>Sign in</title>

</head>
<body>
<h2>Posts:</h2>
<a href="/sign-in" class="btn btn-primary auth-hide">Sign in</a>
<a href="/sign-up" class="btn btn-secondary auth-hide">Sign up</a>
<a href="/my-profile" class="btn btn-dark auth-show">My profile</a>
<a href="/sign-out" class="btn btn-secondary auth-show">Sign out</a>

<style>
    .hidden {
        display: none;
    }
</style>

<script>
    const authHideElements = document.querySelectorAll('.auth-hide');
    const authShowElements = document.querySelectorAll('.auth-show');

    if (document.cookie.indexOf("token") !== -1) {
        // User is logged in - hide login/signup, show logout
        authHideElements.forEach(element => element.classList.add('hidden'));
        authShowElements.forEach(element => element.classList.remove('hidden'));
    } else {
        // User is not logged in - show login/signup, hide logout
        authHideElements.forEach(element => element.classList.remove('hidden'));
        authShowElements.forEach(element => element.classList.add('hidden'));
    }
</script>
<form id="form" hx-post="/posts" hx-target="#form" hx-swap="outerHTML">
    <input class="input-group-text" type="text" name="title" placeholder="Title..." required><br>
    <textarea class="input-group-text" name="body" placeholder="Body..." required></textarea>
    <input class="btn btn-primary" type="submit" value="Create post">
</form>
<div hx-get="/posts" hx-trigger="load" hx-swap="innerHTML">

</div>

<script src="https://unpkg.com/htmx.org"></script>
</body>
</html>